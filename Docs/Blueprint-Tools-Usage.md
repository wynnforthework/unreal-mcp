# 蓝图工具使用指南

## 📋 工具概述

蓝图工具是 Unreal MCP 的核心组件之一，专门用于创建和管理虚幻引擎的蓝图类。通过自然语言命令，您可以快速创建各种类型的蓝图，添加组件，设置属性，并配置游戏逻辑。

## 🎯 主要功能

### 1. 蓝图类创建
- 创建各种类型的蓝图类（Actor、Pawn、Character、Widget 等）
- 设置父类和继承关系
- 自动生成基础结构

### 2. 组件管理
- 添加各种组件（StaticMesh、Camera、Light、Audio 等）
- 设置组件属性和参数
- 配置组件间的层级关系

### 3. 属性配置
- 设置蓝图类的默认属性
- 配置物理属性（重力、质量、阻尼等）
- 调整 Pawn 特定属性（自动控制、旋转控制等）

### 4. 变量管理
- 添加各种类型的变量（Boolean、Integer、Float、Vector、Struct、Array 等）
- 设置变量默认值和访问权限
- 创建蓝图引用和委托

## 🚀 使用示例

### 创建基础 Actor 蓝图

**自然语言命令：**
```
"创建一个名为 MyActor 的 Actor 蓝图，添加一个静态网格体组件"
```

**AI 执行过程：**
1. 创建名为 `BP_MyActor` 的蓝图类
2. 设置父类为 `Actor`
3. 添加 `StaticMeshComponent` 组件
4. 设置组件名称为 `StaticMeshComponent`
5. 编译蓝图

### 创建玩家角色

**自然语言命令：**
```
"创建一个名为 PlayerCharacter 的 Pawn 蓝图，添加摄像机组件、胶囊体碰撞组件和静态网格体组件"
```

**AI 执行过程：**
1. 创建名为 `BP_PlayerCharacter` 的蓝图类
2. 设置父类为 `Pawn`
3. 添加 `CameraComponent`（摄像机组件）
4. 添加 `CapsuleComponent`（胶囊体碰撞组件）
5. 添加 `StaticMeshComponent`（静态网格体组件）
6. 设置 Pawn 属性（自动控制玩家等）
7. 编译蓝图

### 创建复杂的游戏对象

**自然语言命令：**
```
"创建一个名为 TreasureChest 的 Actor 蓝图，添加静态网格体组件，设置物理模拟为开启，添加一个布尔变量 IsOpen，添加一个浮点变量 GoldAmount"
```

**AI 执行过程：**
1. 创建名为 `BP_TreasureChest` 的蓝图类
2. 添加 `StaticMeshComponent` 组件
3. 设置物理属性（启用物理模拟）
4. 添加布尔变量 `IsOpen`（默认值 false）
5. 添加浮点变量 `GoldAmount`（默认值 100.0）
6. 编译蓝图

## 📝 详细命令参考

### 蓝图创建命令

| 命令类型 | 示例 | 说明 |
|---------|------|------|
| 基础 Actor | "创建 Actor 蓝图 MyActor" | 创建简单的 Actor 蓝图 |
| Pawn 角色 | "创建 Pawn 蓝图 PlayerPawn" | 创建可控制的 Pawn |
| Character | "创建 Character 蓝图 Hero" | 创建角色蓝图（包含网格体） |
| Widget | "创建 Widget 蓝图 MainMenu" | 创建 UI 组件蓝图 |

### 组件添加命令

| 组件类型 | 示例 | 说明 |
|---------|------|------|
| 静态网格体 | "添加静态网格体组件" | 添加 3D 模型组件 |
| 摄像机 | "添加摄像机组件" | 添加视角控制组件 |
| 光源 | "添加点光源组件" | 添加照明组件 |
| 音频 | "添加音频组件" | 添加声音播放组件 |
| 粒子 | "添加粒子系统组件" | 添加特效组件 |

### 属性设置命令

| 属性类型 | 示例 | 说明 |
|---------|------|------|
| 物理属性 | "设置物理模拟为开启" | 启用物理交互 |
| 碰撞属性 | "设置碰撞为开启" | 启用碰撞检测 |
| 可见性 | "设置组件可见性为隐藏" | 控制组件显示 |
| 变换 | "设置位置为 (100, 200, 300)" | 设置组件位置 |

## 🎮 实际应用场景

### 1. 游戏角色开发
```
"创建一个名为 PlayerController 的 Pawn 蓝图，添加摄像机组件，设置自动控制为玩家0，添加一个浮点变量 Health 默认值为100"
```

### 2. 环境对象创建
```
"创建一个名为 Door 的 Actor 蓝图，添加静态网格体组件，添加一个布尔变量 IsLocked 默认值为true，添加一个布尔变量 IsOpen 默认值为false"
```

### 3. 道具系统
```
"创建一个名为 Weapon 的 Actor 蓝图，添加静态网格体组件，添加一个字符串变量 WeaponName，添加一个整数变量 Damage，添加一个浮点变量 FireRate"
```

### 4. UI 系统
```
"创建一个名为 HUD 的 Widget 蓝图，添加文本组件显示玩家血量，添加按钮组件用于暂停游戏"
```

## ⚠️ 注意事项

### 1. 命名规范
- 蓝图名称会自动添加 `BP_` 前缀
- 组件名称会自动生成，如 `StaticMeshComponent`
- 变量名称保持原样

### 2. 类型限制
- 支持的父类：Actor、Pawn、Character、Widget、UserWidget
- 支持的组件：StaticMesh、Camera、Light、Audio、Particle 等
- 支持的变量类型：Boolean、Integer、Float、String、Vector、Struct、Array、Delegate

### 3. 性能考虑
- 避免在单个蓝图中添加过多组件
- 合理使用变量类型，避免内存浪费
- 及时编译蓝图以确保功能正常

## 🔧 故障排除

### 常见问题

1. **蓝图创建失败**
   - 检查项目路径是否正确
   - 确认 UE 编辑器已关闭
   - 验证插件是否正确安装

2. **组件添加失败**
   - 确认组件类型名称正确
   - 检查蓝图是否已编译
   - 验证父类是否支持该组件

3. **变量设置失败**
   - 确认变量类型名称正确
   - 检查默认值格式是否正确
   - 验证变量名是否符合命名规范

### 调试技巧

1. **查看蓝图结构**
   - 在 UE 编辑器中打开创建的蓝图
   - 检查组件层级结构
   - 验证变量是否正确创建

2. **检查编译错误**
   - 查看蓝图编译日志
   - 确认所有引用都正确
   - 验证蓝图结构完整性

## 📚 进阶用法

### 1. 批量创建
```
"创建10个名为 Enemy_1 到 Enemy_10 的 Pawn 蓝图，每个都添加静态网格体组件"
```

### 2. 复杂配置
```
"创建一个名为 Boss 的 Character 蓝图，添加骨骼网格体组件，设置物理模拟为开启，添加浮点变量 MaxHealth=1000，添加浮点变量 CurrentHealth=1000，添加布尔变量 IsInvulnerable=false"
```

### 3. 继承关系
```
"创建一个名为 BaseEnemy 的 Pawn 蓝图，然后创建一个名为 EliteEnemy 的 Pawn 蓝图继承自 BaseEnemy"
```

---

通过蓝图工具，您可以快速构建游戏的基础架构，让 AI 助手帮助您专注于游戏逻辑和创意设计，而不是繁琐的技术细节。
