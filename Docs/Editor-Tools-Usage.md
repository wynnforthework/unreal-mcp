# 编辑器工具使用指南

## 📋 工具概述

编辑器工具是 Unreal MCP 中用于控制虚幻引擎编辑器的核心组件。通过这个工具，您可以管理场景中的 Actor，控制视口相机，操作场景对象，以及执行各种编辑器级别的操作。这个工具让您能够通过自然语言命令来操控虚幻引擎的编辑环境。

## 🎯 主要功能

### 1. Actor 管理
- 创建和删除场景中的 Actor
- 设置 Actor 的变换属性（位置、旋转、缩放）
- 查询 Actor 的属性信息
- 查找场景中的特定 Actor

### 2. 视口控制
- 控制视口相机的位置和方向
- 聚焦到特定的 Actor 或位置
- 调整视口的显示设置
- 管理多个视口窗口

### 3. 场景操作
- 管理场景中的光源
- 操作摄像机对象
- 控制场景的渲染设置
- 执行场景级别的操作

### 4. 属性查询
- 获取 Actor 的详细属性
- 查询场景的统计信息
- 检查对象的引用关系
- 分析场景结构

## 🚀 使用示例

### 创建场景对象

**自然语言命令：**
```
"在场景中创建一个立方体 Actor，位置在 (100, 200, 300)，旋转为 (0, 45, 0)，缩放为 (2, 2, 2)"
```

**AI 执行过程：**
1. 调用 `create_actor` 函数
2. 设置 Actor 类型为 "Cube"
3. 设置位置为 (100, 200, 300)
4. 设置旋转为 (0, 45, 0)
5. 设置缩放为 (2, 2, 2)
6. 在场景中生成 Actor

### 控制视口相机

**自然语言命令：**
```
"将视口相机聚焦到名为 PlayerCharacter 的 Actor，距离设置为 500 单位"
```

**AI 执行过程：**
1. 调用 `focus_viewport_on_actor` 函数
2. 查找名为 "PlayerCharacter" 的 Actor
3. 设置聚焦距离为 500
4. 调整相机位置和方向
5. 更新视口显示

### 查找场景对象

**自然语言命令：**
```
"查找场景中所有名称包含 'Enemy' 的 Actor"
```

**AI 执行过程：**
1. 调用 `find_actors` 函数
2. 设置搜索模式为 "name"
3. 设置搜索模式为 "contains"
4. 设置搜索值为 "Enemy"
5. 返回匹配的 Actor 列表

## 📝 详细命令参考

### Actor 创建命令

| 命令类型 | 示例 | 说明 |
|---------|------|------|
| 基础几何体 | "创建立方体 Actor" | 创建基础几何体 |
| 光源 | "创建点光源 Actor" | 创建照明对象 |
| 摄像机 | "创建摄像机 Actor" | 创建视角对象 |
| 蓝图实例 | "创建 PlayerCharacter 蓝图实例" | 创建蓝图对象 |

### 变换操作命令

| 操作类型 | 示例 | 说明 |
|---------|------|------|
| 设置位置 | "设置 Actor 位置为 (100, 200, 300)" | 移动对象位置 |
| 设置旋转 | "设置 Actor 旋转为 (0, 90, 0)" | 旋转对象方向 |
| 设置缩放 | "设置 Actor 缩放为 (1.5, 1.5, 1.5)" | 调整对象大小 |
| 获取变换 | "获取 Actor 的当前位置" | 查询对象变换 |

### 视口控制命令

| 控制类型 | 示例 | 说明 |
|---------|------|------|
| 聚焦对象 | "聚焦到 PlayerCharacter" | 相机聚焦到对象 |
| 设置距离 | "设置聚焦距离为 1000" | 调整相机距离 |
| 控制角度 | "设置相机角度为 (45, 0, 0)" | 调整相机方向 |
| 移动相机 | "移动相机到 (500, 500, 500)" | 直接移动相机 |

### 查询命令

| 查询类型 | 示例 | 说明 |
|---------|------|------|
| 按名称查找 | "查找名为 Player 的 Actor" | 精确名称匹配 |
| 按模式查找 | "查找包含 'Enemy' 的 Actor" | 模式匹配查找 |
| 按类型查找 | "查找所有光源 Actor" | 类型匹配查找 |
| 获取属性 | "获取 PlayerCharacter 的属性" | 查询对象属性 |

## 🎮 实际应用场景

### 1. 场景搭建
```
"创建完整的游戏场景：添加地面平面、放置玩家出生点、创建敌人巡逻点、添加环境光源"
```

### 2. 关卡设计
```
"设计关卡布局：创建多个房间、添加门和窗户、放置装饰物品、设置光照氛围"
```

### 3. 游戏测试
```
"设置测试环境：创建测试玩家、添加测试敌人、放置测试道具、配置测试光源"
```

### 4. 场景优化
```
"优化场景性能：检查场景中的对象数量、分析光照设置、优化几何体分布"
```

## 🔧 高级功能

### 1. 批量操作
```
"批量创建 10 个敌人：在场景中创建 10 个 Enemy 蓝图实例，位置分布在圆形区域内"
```

### 2. 动态场景管理
```
"创建动态场景：根据游戏进度动态添加或移除场景对象，调整光照和氛围"
```

### 3. 场景分析
```
"分析场景结构：统计所有 Actor 类型、检查引用关系、分析性能瓶颈"
```

### 4. 自动化测试
```
"创建自动化测试场景：自动生成测试用例、设置测试环境、执行测试流程"
```

## ⚠️ 注意事项

### 1. 坐标系统
- 使用虚幻引擎的坐标系统（X, Y, Z）
- 注意坐标的单位和方向
- 考虑不同坐标系的转换

### 2. 性能考虑
- 避免在场景中创建过多对象
- 合理使用光源和特效
- 及时清理不需要的对象

### 3. 命名规范
- 使用清晰的命名约定
- 避免使用特殊字符
- 保持命名的一致性

## 🔧 故障排除

### 常见问题

1. **Actor 创建失败**
   - 检查 Actor 类型名称是否正确
   - 确认位置坐标是否有效
   - 验证场景是否可编辑

2. **视口控制失败**
   - 确认目标 Actor 是否存在
   - 检查相机参数是否合理
   - 验证视口是否可用

3. **查找操作失败**
   - 确认搜索条件是否正确
   - 检查搜索模式是否支持
   - 验证场景中是否有匹配对象

### 调试技巧

1. **使用查询功能**
   - 先查询场景中的对象
   - 确认对象的存在和属性
   - 验证操作的可行性

2. **分步执行**
   - 将复杂操作分解为简单步骤
   - 逐步验证每个步骤的结果
   - 及时调整参数设置

3. **使用日志输出**
   - 启用详细的日志记录
   - 查看操作的执行过程
   - 分析失败的原因

## 📚 进阶用法

### 1. 程序化场景生成
```
"创建程序化场景：根据算法自动生成地形、建筑、道路和植被"
```

### 2. 动态光照系统
```
"实现动态光照：根据时间、天气、事件动态调整场景光照"
```

### 3. 场景流式加载
```
"实现场景流式加载：根据玩家位置动态加载和卸载场景区域"
```

### 4. 场景版本控制
```
"实现场景版本控制：记录场景的修改历史、支持回滚和比较"
```

## 🎯 最佳实践

### 1. 场景组织
- 使用合理的层级结构
- 按功能分组对象
- 保持场景的整洁

### 2. 性能优化
- 合理使用 LOD 系统
- 优化光照和阴影
- 控制对象数量

### 3. 工作流程
- 建立标准的工作流程
- 使用模板和预设
- 保持操作的一致性

### 4. 团队协作
- 建立命名规范
- 使用版本控制
- 保持文档更新

## 🔍 实用技巧

### 1. 快速场景搭建
```
"使用模板快速搭建场景：选择场景模板、自动生成基础结构、自定义细节"
```

### 2. 智能对象放置
```
"智能放置对象：根据地形自动调整位置、避免重叠、优化分布"
```

### 3. 场景检查
```
"自动场景检查：检查对象引用、验证设置、发现潜在问题"
```

### 4. 场景备份
```
"自动场景备份：定期备份场景、支持快速恢复、版本管理"
```

---

通过编辑器工具，您可以完全控制虚幻引擎的编辑环境，让 AI 助手帮助您快速构建和管理复杂的游戏场景，提高开发效率。
